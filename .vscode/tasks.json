{
  "version": "2.0.0",
  "tasks": [
    {
      "label": "Backend ì‹¤í–‰ (Spring Boot)",
      "type": "shell",
      "command": "./gradlew",
      "args": [
        "bootRun",
        "--args='--spring.profiles.active=local'",
        "--console=plain"
      ],
      "options": {
        "cwd": "${workspaceFolder}/backend"
      },
      "problemMatcher": [],
      "presentation": {
        "echo": true,
        "reveal": "always",
        "focus": true,
        "panel": "dedicated",
        "showReuseMessage": false,
        "clear": true
      },
      "isBackground": false,
      "runOptions": {
        "instanceLimit": 1
      },
      "group": {
        "kind": "build",
        "isDefault": false
      }
    },
    {
      "label": "Mobile ì‹¤í–‰ (Expo)",
      "type": "shell",
      "command": "npm",
      "args": [
        "start"
      ],
      "options": {
        "cwd": "${workspaceFolder}/mobile"
      },
      "problemMatcher": [],
      "presentation": {
        "echo": true,
        "reveal": "always",
        "focus": false,
        "panel": "dedicated",
        "showReuseMessage": false,
        "clear": false
      },
      "isBackground": true,
      "runOptions": {
        "instanceLimit": 1
      },
      "group": {
        "kind": "build",
        "isDefault": false
      }
    },
    {
      "label": "Web ì‹¤í–‰ (Vite)",
      "type": "shell",
      "command": "npm",
      "args": [
        "run",
        "dev"
      ],
      "options": {
        "cwd": "${workspaceFolder}/web"
      },
      "problemMatcher": [],
      "presentation": {
        "echo": true,
        "reveal": "always",
        "focus": false,
        "panel": "dedicated",
        "showReuseMessage": false,
        "clear": false
      },
      "isBackground": true,
      "runOptions": {
        "instanceLimit": 1
      },
      "group": {
        "kind": "build",
        "isDefault": false
      }
    },
    {
      "label": "Admin ì‹¤í–‰ (Next.js)",
      "type": "shell",
      "command": "npm",
      "args": [
        "run",
        "dev"
      ],
      "options": {
        "cwd": "${workspaceFolder}/admin"
      },
      "problemMatcher": [],
      "presentation": {
        "echo": true,
        "reveal": "always",
        "focus": false,
        "panel": "dedicated",
        "showReuseMessage": false,
        "clear": false
      },
      "isBackground": true,
      "runOptions": {
        "instanceLimit": 1
      },
      "group": {
        "kind": "build",
        "isDefault": false
      }
    },
    {
      "label": "ì „ì²´ ì„œë¹„ìŠ¤ ì‹¤í–‰",
      "dependsOn": [
        "Backend ì‹¤í–‰ (Spring Boot)",
        "Mobile ì‹¤í–‰ (Expo)"
      ],
      "problemMatcher": [],
      "group": {
        "kind": "build",
        "isDefault": true
      }
    },
    {
      "label": "ğŸ—„ï¸ Flyway: ë§ˆì´ê·¸ë ˆì´ì…˜ ì •ë³´ í™•ì¸",
      "type": "shell",
      "command": "./gradlew",
      "args": [
        "flywayInfo"
      ],
      "options": {
        "cwd": "${workspaceFolder}/backend"
      },
      "problemMatcher": [],
      "presentation": {
        "echo": true,
        "reveal": "always",
        "focus": true,
        "panel": "shared",
        "showReuseMessage": false,
        "clear": true
      },
      "group": "none"
    },
    {
      "label": "ğŸš€ Flyway: ë§ˆì´ê·¸ë ˆì´ì…˜ ì‹¤í–‰",
      "type": "shell",
      "command": "./gradlew",
      "args": [
        "flywayMigrate"
      ],
      "options": {
        "cwd": "${workspaceFolder}/backend"
      },
      "problemMatcher": [],
      "presentation": {
        "echo": true,
        "reveal": "always",
        "focus": true,
        "panel": "shared",
        "showReuseMessage": false,
        "clear": true
      },
      "group": "none"
    },
    {
      "label": "âœ… Flyway: ë§ˆì´ê·¸ë ˆì´ì…˜ ê²€ì¦",
      "type": "shell",
      "command": "./gradlew",
      "args": [
        "flywayValidate"
      ],
      "options": {
        "cwd": "${workspaceFolder}/backend"
      },
      "problemMatcher": [],
      "presentation": {
        "echo": true,
        "reveal": "always",
        "focus": true,
        "panel": "shared",
        "showReuseMessage": false,
        "clear": true
      },
      "group": "none"
    },
    {
      "label": "ğŸ“œ Flyway: ë² ì´ìŠ¤ë¼ì¸ ì„¤ì •",
      "type": "shell",
      "command": "./gradlew",
      "args": [
        "flywayBaseline"
      ],
      "options": {
        "cwd": "${workspaceFolder}/backend"
      },
      "problemMatcher": [],
      "presentation": {
        "echo": true,
        "reveal": "always",
        "focus": true,
        "panel": "shared",
        "showReuseMessage": false,
        "clear": true
      },
      "group": "none"
    },
    {
      "label": "ğŸ§¹ Flyway: DB ì™„ì „ ì´ˆê¸°í™” (Clean)",
      "type": "shell",
      "command": "./gradlew",
      "args": [
        "flywayClean"
      ],
      "options": {
        "cwd": "${workspaceFolder}/backend"
      },
      "problemMatcher": [],
      "presentation": {
        "echo": true,
        "reveal": "always",
        "focus": true,
        "panel": "shared",
        "showReuseMessage": false,
        "clear": true
      },
      "group": "none"
    },
    {
      "label": "ğŸ”§ Flyway: Repair (íˆìŠ¤í† ë¦¬ í…Œì´ë¸” ë³µêµ¬)",
      "type": "shell",
      "command": "./gradlew",
      "args": [
        "flywayRepair"
      ],
      "options": {
        "cwd": "${workspaceFolder}/backend"
      },
      "problemMatcher": [],
      "presentation": {
        "echo": true,
        "reveal": "always",
        "focus": true,
        "panel": "shared",
        "showReuseMessage": false,
        "clear": true
      },
      "group": "none"
    },
    {
      "label": "ğŸ”„ Flyway: Clean â†’ Migrate (ì „ì²´ ì¬ì„¤ì •)",
      "type": "shell",
      "command": "./gradlew",
      "args": [
        "flywayClean",
        "flywayMigrate"
      ],
      "options": {
        "cwd": "${workspaceFolder}/backend"
      },
      "problemMatcher": [],
      "presentation": {
        "echo": true,
        "reveal": "always",
        "focus": true,
        "panel": "shared",
        "showReuseMessage": false,
        "clear": true
      },
      "group": "none"
    },
    {
      "label": "ğŸ“Š Local DB: í…Œì´ë¸” í†µê³„ í™•ì¸",
      "type": "shell",
      "command": "docker",
      "args": [
        "exec",
        "glimpse-db",
        "psql",
        "-U",
        "glimpse",
        "-d",
        "glimpse_local",
        "-c",
        "SELECT 'users' as table_name, COUNT(*)::text as count FROM users UNION ALL SELECT 'groups', COUNT(*)::text FROM groups UNION ALL SELECT 'matches', COUNT(*)::text FROM matches UNION ALL SELECT 'chat_message', COUNT(*)::text FROM chat_message UNION ALL SELECT 'user_like', COUNT(*)::text FROM user_like ORDER BY table_name;"
      ],
      "problemMatcher": [],
      "presentation": {
        "echo": true,
        "reveal": "always",
        "focus": true,
        "panel": "shared",
        "showReuseMessage": false,
        "clear": true
      },
      "group": "none"
    },
    {
      "label": "ğŸ³ Docker: PostgreSQL ì»¨í…Œì´ë„ˆ ì‹œì‘",
      "type": "shell",
      "command": "docker-compose",
      "args": [
        "-f",
        "etc/docker/docker-compose.yml",
        "up",
        "-d",
        "glimpse-db"
      ],
      "options": {
        "cwd": "${workspaceFolder}"
      },
      "problemMatcher": [],
      "presentation": {
        "echo": true,
        "reveal": "always",
        "focus": true,
        "panel": "shared",
        "showReuseMessage": false,
        "clear": true
      },
      "group": "none"
    },
    {
      "label": "ğŸ›‘ Docker: PostgreSQL ì»¨í…Œì´ë„ˆ ì¤‘ì§€",
      "type": "shell",
      "command": "docker-compose",
      "args": [
        "-f",
        "etc/docker/docker-compose.yml",
        "stop",
        "glimpse-db"
      ],
      "options": {
        "cwd": "${workspaceFolder}"
      },
      "problemMatcher": [],
      "presentation": {
        "echo": true,
        "reveal": "always",
        "focus": true,
        "panel": "shared",
        "showReuseMessage": false,
        "clear": true
      },
      "group": "none"
    },
    {
      "label": "ğŸ’» Backend: Local í”„ë¡œí•„ë¡œ ì‹¤í–‰",
      "type": "shell",
      "command": "./gradlew",
      "args": [
        "bootRun",
        "--args='--spring.profiles.active=local'",
        "--console=plain"
      ],
      "options": {
        "cwd": "${workspaceFolder}/backend"
      },
      "problemMatcher": [],
      "presentation": {
        "echo": true,
        "reveal": "always",
        "focus": true,
        "panel": "dedicated",
        "showReuseMessage": false,
        "clear": true
      },
      "isBackground": false,
      "runOptions": {
        "instanceLimit": 1
      },
      "group": "none"
    },
    {
      "label": "ğŸ“š Swagger UI ì—´ê¸° (Chrome)",
      "type": "shell",
      "command": "open",
      "args": [
        "-a",
        "Google Chrome",
        "http://localhost:3001/swagger-ui.html"
      ],
      "problemMatcher": [],
      "presentation": {
        "echo": true,
        "reveal": "silent",
        "focus": false,
        "panel": "shared",
        "showReuseMessage": false,
        "clear": false
      },
      "group": "none"
    },
    {
      "label": "ğŸ“– API Docs ì—´ê¸° (Chrome)",
      "type": "shell",
      "command": "open",
      "args": [
        "-a",
        "Google Chrome",
        "http://localhost:3001/api-docs"
      ],
      "problemMatcher": [],
      "presentation": {
        "echo": true,
        "reveal": "silent",
        "focus": false,
        "panel": "shared",
        "showReuseMessage": false,
        "clear": false
      },
      "group": "none"
    },
    {
      "label": "ğŸŒ ëª¨ë“  í˜ì´ì§€ ì—´ê¸° (Chrome)",
      "type": "shell",
      "command": "sh",
      "args": [
        "-c",
        "open -a 'Google Chrome' http://localhost:3001/swagger-ui.html && sleep 1 && open -a 'Google Chrome' http://localhost:5173 && sleep 1 && open -a 'Google Chrome' http://localhost:3000 && sleep 1 && open -a 'Google Chrome' http://localhost:8081"
      ],
      "problemMatcher": [],
      "presentation": {
        "echo": true,
        "reveal": "silent",
        "focus": false,
        "panel": "shared",
        "showReuseMessage": false,
        "clear": false
      },
      "group": "none"
    },
    {
      "label": "ğŸ›‘ ëª¨ë“  ê°œë°œ ì„œë²„ ì¢…ë£Œ",
      "type": "shell",
      "command": "bash",
      "args": [
        "/tmp/kill_all_servers.sh"
      ],
      "problemMatcher": [],
      "presentation": {
        "echo": true,
        "reveal": "always",
        "focus": true,
        "panel": "shared",
        "showReuseMessage": false,
        "clear": true
      },
      "group": "none"
    },
    {
      "label": "ğŸ›‘ Backendë§Œ ì¢…ë£Œ (Java/Gradle)",
      "type": "shell",
      "command": "bash",
      "args": [
        "/tmp/kill_backend.sh"
      ],
      "problemMatcher": [],
      "presentation": {
        "echo": true,
        "reveal": "always",
        "focus": true,
        "panel": "shared",
        "showReuseMessage": false,
        "clear": true
      },
      "group": "none"
    },
    {
      "label": "ğŸ›‘ Frontendë§Œ ì¢…ë£Œ (Node)",
      "type": "shell",
      "command": "bash",
      "args": [
        "/tmp/kill_frontend.sh"
      ],
      "problemMatcher": [],
      "presentation": {
        "echo": true,
        "reveal": "always",
        "focus": true,
        "panel": "shared",
        "showReuseMessage": false,
        "clear": true
      },
      "group": "none"
    },
    {
      "label": "ğŸ›‘ ê°•ì œ ì¢…ë£Œ (ëª¨ë“  í¬íŠ¸ + í”„ë¡œì„¸ìŠ¤)",
      "type": "shell",
      "command": "bash",
      "args": [
        "/tmp/kill_force.sh"
      ],
      "problemMatcher": [],
      "presentation": {
        "echo": true,
        "reveal": "always",
        "focus": true,
        "panel": "shared",
        "showReuseMessage": false,
        "clear": true
      },
      "group": "none"
    },
    {
      "label": "ğŸ“Š ì‹¤í–‰ ì¤‘ì¸ ê°œë°œ ì„œë²„ í™•ì¸",
      "type": "shell",
      "command": "bash",
      "args": [
        "/tmp/check_servers.sh"
      ],
      "problemMatcher": [],
      "presentation": {
        "echo": true,
        "reveal": "always",
        "focus": true,
        "panel": "shared",
        "showReuseMessage": false,
        "clear": true
      },
      "group": "none"
    },
    {
      "label": "ğŸ› Backend ë””ë²„ê·¸ ëª¨ë“œë¡œ ì‹¤í–‰",
      "type": "shell",
      "command": "./gradlew",
      "args": [
        "bootRun",
        "--args='--spring.profiles.active=local'",
        "--console=plain"
      ],
      "options": {
        "cwd": "${workspaceFolder}/backend",
        "env": {
          "DEBUG_MODE": "true"
        }
      },
      "problemMatcher": [],
      "presentation": {
        "echo": true,
        "reveal": "always",
        "focus": true,
        "panel": "dedicated",
        "showReuseMessage": false,
        "clear": true
      },
      "isBackground": false,
      "runOptions": {
        "instanceLimit": 1
      },
      "group": "none"
    },
    {
      "label": "ğŸ”— ë””ë²„ê±° ì—°ê²° ì¤€ë¹„ ì™„ë£Œ ëŒ€ê¸°",
      "type": "shell",
      "command": "sh",
      "args": [
        "-c",
        "echo 'ğŸ” ë””ë²„ê·¸ í¬íŠ¸ 5005 í™•ì¸ ì¤‘...' && for i in {1..30}; do if lsof -ti :5005 > /dev/null 2>&1; then echo 'âœ… ë””ë²„ê·¸ í¬íŠ¸ 5005 ì¤€ë¹„ ì™„ë£Œ!'; echo 'â„¹ï¸  ì´ì œ \"ğŸ”Œ Attach to Running Backend\" ë””ë²„ê·¸ ì„¤ì •ì„ ì‹¤í–‰í•˜ì„¸ìš”.'; exit 0; fi; echo \"â³ ëŒ€ê¸° ì¤‘... ($i/30)\"; sleep 1; done; echo 'âŒ ë””ë²„ê·¸ í¬íŠ¸ê°€ ì—´ë¦¬ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.'; exit 1"
      ],
      "problemMatcher": [],
      "presentation": {
        "echo": true,
        "reveal": "always",
        "focus": true,
        "panel": "shared",
        "showReuseMessage": false,
        "clear": true
      },
      "group": "none"
    },
    {
      "label": "ğŸ§ª Backend í…ŒìŠ¤íŠ¸ ì‹¤í–‰",
      "type": "shell",
      "command": "./gradlew",
      "args": [
        "test",
        "--info"
      ],
      "options": {
        "cwd": "${workspaceFolder}/backend"
      },
      "problemMatcher": [],
      "presentation": {
        "echo": true,
        "reveal": "always",
        "focus": true,
        "panel": "dedicated",
        "showReuseMessage": false,
        "clear": true
      },
      "group": {
        "kind": "test",
        "isDefault": true
      }
    },
    {
      "label": "ğŸ§ª Backend í…ŒìŠ¤íŠ¸ (íŠ¹ì • í´ë˜ìŠ¤)",
      "type": "shell",
      "command": "./gradlew",
      "args": [
        "test",
        "--tests",
        "${input:testClass}",
        "--info"
      ],
      "options": {
        "cwd": "${workspaceFolder}/backend"
      },
      "problemMatcher": [],
      "presentation": {
        "echo": true,
        "reveal": "always",
        "focus": true,
        "panel": "dedicated",
        "showReuseMessage": false,
        "clear": true
      },
      "group": "test"
    }
  ],
  "inputs": [
    {
      "id": "testClass",
      "type": "promptString",
      "description": "í…ŒìŠ¤íŠ¸í•  í´ë˜ìŠ¤ ì´ë¦„ì„ ì…ë ¥í•˜ì„¸ìš” (ì˜ˆ: GroupServiceTest)",
      "default": "*Test"
    }
  ]
}

